<!doctype html>
<html>
  <head>
    <title>Messenger</title>
    <link rel="stylesheet" type="text/css" href="css/app.css">
  </head>
  <body>

    <script type="text/x-handlebars" data-template-name="index">
      {{#if hasJoined}}
        <section class="module">    
          <header class="top-bar">        
            <div class="left">
              <h1>Messenger</h1>    
            </div>
            <span class="user-details">{{name}} ({{userid}})</span>
          </header>
          {{#if otherUser}}
            <ol class="discussion">
              <li class="other">      
                <div class="avatar">        
                  <img src="unknown.jpeg" />
                </div>      
                <div class="messages">        
                  <p>yeah, they do early flights cause they connect with big airports.  they wanna get u to your connection</p>        
                  <time datetime="2009-11-13T20:00">Timothy 51 min</time>      
                </div>    
              </li>    
              <li class="self">      
                <div class="avatar">        
                  <img src="unknown.jpeg" />      
                </div>     
                <div class="messages">        
                  <p>That makes sense. Isnt it</p>        
                  <p>Its a pretty small airport.</p>        
                  <time datetime="2009-11-13T20:14">37 mins</time>      
                </div>    
              </li>    
              <li class="other">      
                <div class="avatar">        
                  <img src="unknown.jpeg" />
                </div>      
                <div class="messages">        
                  <p>that mongodb thing looks good, huh?</p>        
                  <p>          tiny master db, and huge document store</p>      
                </div>    
              </li>
            </ol>
            <li>
              <textarea></textarea>
            </li>
          {{else}}
            <ol class="discussion no-chat-begin">
              <span class="msg">Start chatting with the people online.</span>
            </ol>
          {{/if}}
        </section>
        <section class="messenger">
          <header class="top-bar">
              <div class="left">
                  <span class="typicons-message online"></span>
                  <h1>Online users</h1>    
              </div>
            </header>    
          <ol class="users-list">
            {{#each user in users}}
              <li {{action "selectUser" user}}>
                <div class="fullname">{{user.name}} </div>
                <div class="onlineuserid"> ({{user.userid}}) </div>
              </li>
            {{else}}
                <span class="msg">No users online</span>
            {{/each}}
          </ol>
        </section>
      {{else}}
        <div class="container">
          <li>
            {{input type="text" name="username" maxlength="15" value=name placeholder="Full Name"}}
            {{input type="text" name="userid" maxlength="15" value=userid placeholder="username *"}}
            <button {{action "submitForm"}}>Join chat</button>
            <span class="username">Enter an unique username</span>
          </li>
          <div class="prompt-usernames">
            {{#each sugg_username in sugg_usernames}}
              {{sugg_username}} | 
            {{/each}}
          </div>
        </div>
      {{/if}}
    </script>

    <script src="vendor/jquery-1.10.2.min.js"></script>
    <script src="vendor/handlebars.js"></script>
    <script src="vendor/ember.js"></script>
    <script src="vendor/socket.io-1.2.0.js"></script>
    <script src="app/app.js"></script>
  </body>
</html>
